import { c as create_ssr_component, a as subscribe, d as each, e as escape, b as add_attribute } from "../../../chunks/ssr.js";
import { u as utils } from "../../../chunks/utils.js";
import "@capacitor/action-sheet";
import "../../../chunks/client.js";
const css = {
  code: ".order-details.svelte-caq7ac{display:none}.order-details.active.svelte-caq7ac{display:block}.arrow.svelte-caq7ac{transition:transform 0.3s ease}.arrow.active.svelte-caq7ac{transform:rotate(180deg)}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n\\timport { onMount } from 'svelte';\\n\\timport utils from '$lib/utils.js';\\n\\timport { ActionSheet, ActionSheetButtonStyle } from '@capacitor/action-sheet';\\n\\tlet user = utils.user();\\n\\timport { goto } from '$app/navigation';\\n\\n\\tlet orders = [];\\n\\n\\tonMount(async () => {\\n\\t\\tconst { data, error } = await utils.orders.getOrders();\\n\\t\\tif (data) {\\n\\t\\t\\torders = data;\\n\\t\\t}\\n\\t\\tif (error) {\\n\\t\\t\\tconsole.error(error);\\n\\t\\t}\\n\\t});\\n\\n\\tlet activeOrder = null;\\n\\n\\tfunction toggleOrder(orderid) {\\n\\t\\tactiveOrder = activeOrder === orderid ? null : orderid;\\n\\t}\\n<\/script>\\n\\n<div class=\\"px-2 bg-blue-100 md:px-20 min-h-screen\\">\\n\\t<div class=\\"text-2xl text-start p-4\\">Orders</div>\\n\\t{#if !$user}\\n\\t\\t<p class=\\"text-red-600 p-4\\">You are not logged in</p>\\n\\t{:else}\\n\\t\\t<div class=\\"flex flex-col gap-4 p-4\\">\\n\\t\\t\\t{#if orders}\\n\\t\\t\\t{#each orders as order}\\n\\t\\t\\t\\t<div class=\\"bg-blue-400 rounded-lg\\">\\n\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\tclass=\\"px-6 py-4 flex justify-between items-center\\"\\n\\t\\t\\t\\t\\t\\ton:click={() => toggleOrder(order.orderid)}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t<h2 class=\\"text-lg font-semibold mb-2\\">Order ID: {order.orderid}</h2>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\"text-gray-600\\">\\n\\t\\t\\t\\t\\t\\t\\t\\tCreated at: {new Intl.DateTimeFormat('en-US', {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tyear: 'numeric',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmonth: 'short',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tday: 'numeric',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\thour: 'numeric',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tminute: 'numeric',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\thour12: true\\n\\t\\t\\t\\t\\t\\t\\t\\t}).format(new Date(order.created_at))}\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\"text-gray-600\\">Address: {order.address}</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\"text-gray-600\\">User ID: {order.userid}</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\"text-gray-600\\">Phone: {order.phone}</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\"text-gray-600\\">Name: {order.name}</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\"arrow {activeOrder === order.orderid ? 'active' : ''}\\">\\n\\t\\t\\t\\t\\t\\t\\t<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 24 24\\" class=\\"w-6 h-6\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<path d=\\"M7 10l5 5 5-5z\\" />\\n\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\"order-details {activeOrder === order.orderid ? 'active' : ''}\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\"px-6 py-4 bg-blue-300\\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\\"text-lg font-semibold mb-2\\">Products:</h3>\\n\\t\\t\\t\\t\\t\\t\\t<ul class=\\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t{#if orders}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t{#each order.products as product}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li class=\\"bg-blue-100 rounded-lg p-4\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsrc={product.photo}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\talt={product.product}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\"w-full h-40 object-cover rounded-lg mb-2\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\"text-lg font-semibold\\">{product.product}</h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\"text-gray-600\\">Size: {product.size}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\"text-gray-600\\">Price: \${product.price}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t{/each}\\n\\t\\t\\t{/if}\\n\\t\\t</div>\\n\\t{/if}\\n</div>\\n\\n<style>\\n\\t.order-details {\\n\\t\\tdisplay: none;\\n\\t}\\n\\t.order-details.active {\\n\\t\\tdisplay: block;\\n\\t}\\n\\t.arrow {\\n\\t\\ttransition: transform 0.3s ease;\\n\\t}\\n\\t.arrow.active {\\n\\t\\ttransform: rotate(180deg);\\n\\t}\\n</style>\\n"],"names":[],"mappings":"AA4FC,4BAAe,CACd,OAAO,CAAE,IACV,CACA,cAAc,qBAAQ,CACrB,OAAO,CAAE,KACV,CACA,oBAAO,CACN,UAAU,CAAE,SAAS,CAAC,IAAI,CAAC,IAC5B,CACA,MAAM,qBAAQ,CACb,SAAS,CAAE,OAAO,MAAM,CACzB"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $user, $$unsubscribe_user;
  let user = utils.user();
  $$unsubscribe_user = subscribe(user, (value) => $user = value);
  let orders = [];
  let activeOrder = null;
  $$result.css.add(css);
  $$unsubscribe_user();
  return `<div class="px-2 bg-blue-100 md:px-20 min-h-screen"><div class="text-2xl text-start p-4" data-svelte-h="svelte-zjfy3z">Orders</div> ${!$user ? `<p class="text-red-600 p-4" data-svelte-h="svelte-1fu9vkp">You are not logged in</p>` : `<div class="flex flex-col gap-4 p-4">${orders ? `${each(orders, (order) => {
    return `<div class="bg-blue-400 rounded-lg"><div class="px-6 py-4 flex justify-between items-center"><div><h2 class="text-lg font-semibold mb-2">Order ID: ${escape(order.orderid)}</h2> <p class="text-gray-600">Created at: ${escape(new Intl.DateTimeFormat(
      "en-US",
      {
        year: "numeric",
        month: "short",
        day: "numeric",
        hour: "numeric",
        minute: "numeric",
        hour12: true
      }
    ).format(new Date(order.created_at)))}</p> <p class="text-gray-600">Address: ${escape(order.address)}</p> <p class="text-gray-600">User ID: ${escape(order.userid)}</p> <p class="text-gray-600">Phone: ${escape(order.phone)}</p> <p class="text-gray-600">Name: ${escape(order.name)}</p></div> <div class="${"arrow " + escape(activeOrder === order.orderid ? "active" : "", true) + " svelte-caq7ac"}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6"><path d="M7 10l5 5 5-5z"></path></svg> </div></div> <div class="${"order-details " + escape(activeOrder === order.orderid ? "active" : "", true) + " svelte-caq7ac"}"><div class="px-6 py-4 bg-blue-300"><h3 class="text-lg font-semibold mb-2" data-svelte-h="svelte-1f3vjoj">Products:</h3> <ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">${orders ? `${each(order.products, (product) => {
      return `<li class="bg-blue-100 rounded-lg p-4"><img${add_attribute("src", product.photo, 0)}${add_attribute("alt", product.product, 0)} class="w-full h-40 object-cover rounded-lg mb-2"> <h4 class="text-lg font-semibold">${escape(product.product)}</h4> <p class="text-gray-600">Size: ${escape(product.size)}</p> <p class="text-gray-600">Price: $${escape(product.price)}</p> </li>`;
    })}` : ``}</ul> </div></div> </div>`;
  })}` : ``}</div>`} </div>`;
});
export {
  Page as default
};
